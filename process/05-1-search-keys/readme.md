# プロセス 05-1-search-keys: 検索用キーワード生成

## 概要

各食品に対して、検索用のキーワード一覧を生成するプロセスです。
食品を追加・検索する際に使用する、一般的な呼び名のバリエーションを作成します。

## 入力

### 入力ファイル

- **パス**: `../04-1-merge-tables/result/merged-nutrition.csv`
- **形式**: CSV（UTF-8）
- **使用カラム**:
  - `食品番号`: 食品固有の識別番号（5桁）
  - `食品名`: 食品の名称
  - `構造化食品名`: JSON形式の構造化された食品名情報

## 処理内容

AIを使用して、各食品に対して以下の検索キーワードを生成：

1. **漢字表記**: 鯖、鶏肉など
2. **ひらがな表記**: さば、とりにくなど
3. **カタカナ表記**: サバ、トリニクなど
4. **英語表記**: mackerel、chickenなど
5. **別名・俗称**: あれば追加（例：「ササミ」=「笹身」）

### 生成ルール

- 食材として最も適切で一般的な呼び名を優先
- 二つ以上の呼び名がある食品は、それらのバリエーションを含む
- 調理状態（生、ゆで、焼きなど）は含めない（ベースの食材名のみ）
- 部位や品種も別名があれば含む

## 出力

### 出力ファイル

#### `result/search-keys.json`

```json
{
  "01001": ["アマランサス", "あまらんさす", "amaranth"],
  "10012": ["鯖", "さば", "サバ", "mackerel"],
  ...
}
```

#### `result/progress.json`

処理進捗を記録するJSONファイル。途中再開時に使用。

## 技術仕様

- **使用モデル**: gpt-5-mini-2025-08-07（OpenAI via Vercel AI SDK）
- **バッチサイズ**: 20件
- **出力形式**: JSON

## ファイル構造

```
process/05-1-search-keys/
├── index.ts                    # メイン処理スクリプト
├── readme.md                   # このファイル
└── result/                     # 出力ディレクトリ（自動生成）
    ├── search-keys.json        # 検索キーワード（累積出力）
    └── progress.json           # 処理進捗（再開用）
```
